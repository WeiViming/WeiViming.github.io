<!DOCTYPE html>

<html lang="zh" class="default-style layout-fixed layout-footer-fixed">

<head>
    <title>
        
        安全多方计算与混淆电路 - 云中雨雾
        
    </title>

    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="icon" type="image/x-icon" href="https://s2.loli.net/2022/02/15/mLCBgAT7DSbj8iQ.jpg">
    
    <meta name="description" content="云中小屋, 岁月静好~">
    
    
    
    <link href="atom.xml" rel="alternate" title="云中雨雾" type="application/atom+xml">

    <!-- <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i,900" rel="stylesheet"> -->

    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="asset/vendor/js/bootstrap.js"></script>

    <!-- Icon fonts -->
    <link rel="stylesheet" href="asset/vendor/fonts/ionicons.css">

    <!-- Core stylesheets -->
    <link rel="stylesheet" href="asset/vendor/css/rtl/bootstrap.css" class="theme-settings-bootstrap-css">

    <link rel="stylesheet" href="asset/vendor/css/rtl/appwork.css" class="theme-settings-appwork-css">
    <link rel="stylesheet" href="asset/vendor/css/rtl/theme-corporate.css" class="theme-settings-theme-css">
    <link rel="stylesheet" href="asset/vendor/css/rtl/colors.css" class="theme-settings-colors-css">
    <link rel="stylesheet" href="asset/vendor/css/rtl/uikit.css">
    <link rel="stylesheet" href="asset/css/demo.css">
    <link rel="stylesheet" href="asset/css/docs.css">
    <link rel="stylesheet" href="asset/css/prism.css">

    <!-- Load polyfills -->
    <script src="asset/vendor/js/layout-helpers.js"></script>

    <!-- Core scripts -->
    <script src="asset/vendor/js/pace.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

    <script src="asset/jquery.toc.js"></script>

    <!-- Libs -->
    <link rel="stylesheet" href="asset/vendor/libs/perfect-scrollbar/perfect-scrollbar.css">

    	<style type="text/css">
        /* latin */
        @font-face {
        font-family: 'Nunito';
        font-style: normal;
        font-weight: 300;
        src: local('Nunito-Light'), url(asset/font/1TiHc9yag0wq3lDO9cw0voX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
        }
        /* latin */
        @font-face {
        font-family: 'Nunito';
        font-style: normal;
        font-weight: 400;
        src: local('Nunito-Regular'), url(asset/font/6TbRXKWJjpj6V2v_WyRbMX-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
        }
        /* latin */
        @font-face {
        font-family: 'Nunito';
        font-style: bold;
        font-weight: 700;
        src: local('Nunito-Bold'), url(asset/font/TttUCfJ272GBgSKaOaD7KoX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
        }
	    </style>

    <style>
        body, html {
            /* font-family: 'Nunito', PingFangSC-light, Helvetica, Arial, sans-serif; */
            /* font-family: Optima, PingFangSC-light, 'PingFang SC', sans-serif; */
            font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
        }
        #toc_container ul {
            list-style: none;
            padding-left: 10px;
        }
        p, ul, ol, li, table{
            font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
        }
        *{
            width: auto;
        }
    </style>

</head>

<body>
<!-- Layout wrapper -->
<div class="layout-wrapper layout-2">
    <div class="layout-inner">


        <!-- Layout sidenav -->
        <div id="layout-sidenav" class="layout-sidenav sidenav sidenav-vertical bg-dark">

            <div class="app-brand demo">
          <span class="app-brand-logo demo" style="background-color: whitesmoke;">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
                 id="Layer_1" x="0px" y="0px" width="57px" height="57px" viewBox="0 0 57 57"
                 enable-background="new 0 0 57 57" xml:space="preserve">  <image id="image0" width="57" height="57"
                                                                                 x="0" y="0"
                                                                                 href="https://s2.loli.net/2022/02/15/mLCBgAT7DSbj8iQ.jpg"/></svg>
          </span>
                <a href="index.html" class="app-brand-text demo sidenav-text font-weight-normal ml-2">云中雨雾</a>
                <a href="javascript:void(0)" class="layout-sidenav-toggle sidenav-link text-large ml-auto">
                    <i class="ion ion-md-menu align-middle"></i>
                </a>
            </div>

            <div class="sidenav-divider mt-0"></div>


            <!-- Links -->
            <ul id="sidenav-inner" class="sidenav-inner py-1">
            </ul>

            <script>
              $(function () {
                let innerHt = `
                    <li class="sidenav-item">
                        <a href="javascript:;" data-url="index.html" class="sidenav-link"><i class="sidenav-icon ion ion-md-speedometer"></i>
                            <div>主页</div>
                        </a>
                    </li>

                    <li class="sidenav-item">
                        <a href="javascript:;" data-url="archives.html" class="sidenav-link"><i class="sidenav-icon ion ion-ios-archive"></i>
                            <div>分类</div>
                        </a>
                    </li>


                    <li class="sidenav-item">
                        <a href="javascript:void(0)" class="sidenav-link sidenav-toggle"><i class="sidenav-icon ion ion-ios-bookmarks"></i>
                            <div>标签</div>
                        </a>

                        <ul class="sidenav-menu">
                            
                            <li class="sidenav-item">
                                <a href="javascript:void(0)" data-url="tag_%E5%85%B6%E4%BB%96.html" class="sidenav-link">
                                    <i class="sidenav-icon ion ion-ios-bookmark"></i>
                                    <div>其他(1)</div>
                                </a>
                            </li>
                            
                            <li class="sidenav-item">
                                <a href="javascript:void(0)" data-url="tag_%E5%AF%86%E7%A0%81%E5%AD%A6%E7%90%86%E8%AE%BA.html" class="sidenav-link">
                                    <i class="sidenav-icon ion ion-ios-bookmark"></i>
                                    <div>密码学理论(9)</div>
                                </a>
                            </li>
                            
                            <li class="sidenav-item">
                                <a href="javascript:void(0)" data-url="tag_%E5%B0%8F%E6%8A%80%E5%B7%A7.html" class="sidenav-link">
                                    <i class="sidenav-icon ion ion-ios-bookmark"></i>
                                    <div>小技巧(8)</div>
                                </a>
                            </li>
                            
                            <li class="sidenav-item">
                                <a href="javascript:void(0)" data-url="tag_%E7%BC%96%E7%A8%8B.html" class="sidenav-link">
                                    <i class="sidenav-icon ion ion-ios-bookmark"></i>
                                    <div>编程(5)</div>
                                </a>
                            </li>
                            
                            <li class="sidenav-item">
                                <a href="javascript:void(0)" data-url="tag_%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html" class="sidenav-link">
                                    <i class="sidenav-icon ion ion-ios-bookmark"></i>
                                    <div>隐私保护机器学习(7)</div>
                                </a>
                            </li>
                            
                        </ul>

                    </li>

                    <li class="sidenav-item">
                        <a href="javascript:;" data-url="about.html" class="sidenav-link"><i class="sidenav-icon ion ion-ios-leaf"></i>
                            <div>关于</div>
                        </a>
                    </li>


                                        

                        <li class="sidenav-divider mb-1"></li>
                        <li class="sidenav-header small font-weight-semibold">编程之路</li>


                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16373049349337.html" title="几个Makefile模板" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>几个Makefile模板</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16369755197628.html" title="终端快捷键笔记" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>终端快捷键笔记</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16307992850154.html" title="Windows下不关机重启WSL的方案" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>Windows下不关机重启WSL的方案</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16292930037213.html" title="Eigen3使用教程" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>Eigen3使用教程</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16209081474314.html" title="C++中的数据类型及其范围" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>C++中的数据类型及其范围</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16208091105804.html" title="NTL函数库的CMakeLists.txt书写方式" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>NTL函数库的CMakeLists.txt书写方式</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16208089129999.html" title="MacOS下cmake解决找不到链接库的问题" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>MacOS下cmake解决找不到链接库的问题</div>
                            </a>
                        </li>
                        

                        
                            </ul>

                        </li>
                        

                    

                        <li class="sidenav-divider mb-1"></li>
                        <li class="sidenav-header small font-weight-semibold">密码之路</li>


                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16477900515975.html" title="BLAZE: 快速隐私保护机器学习" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>BLAZE: 快速隐私保护机器学习</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16460999786637.html" title="安全计算协议的不同安全性区别" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>安全计算协议的不同安全性区别</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16460285618722.html" title="Cheetah: 精简快速安全两方深度神经网络推理" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>Cheetah: 精简快速安全两方深度神经网络推理</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16449265418549.html" title="SWIFT: 超快速鲁棒隐私保护机器学习" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>SWIFT: 超快速鲁棒隐私保护机器学习</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16434684624710.html" title="Privacy Preserving Machine Learning Resources" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>Privacy Preserving Machine Learning Resources</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16425853998520.html" title="安全与密码会议排名" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>安全与密码会议排名</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16414786119962.html" title="隐私计算技术路线" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>隐私计算技术路线</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16399887107456.html" title="隐私保护深度学习技术综述" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>隐私保护深度学习技术综述</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16377612600578.html" title="图说MPC协议" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>图说MPC协议</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16337773581295.html" title="Fantastic Four: 具有恶意安全的诚实大多数四方安全计算" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>Fantastic Four: 具有恶意安全的诚实大多数四方安全计算</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16237676401097.html" title="不经意传输及其优化方案" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>不经意传输及其优化方案</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16222891373334.html" title="混淆电路及其优化方案" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>混淆电路及其优化方案</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16208088340765.html" title="语义安全性" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>语义安全性</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16206453366291.html" title="基于秘密共享的安全计算" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>基于秘密共享的安全计算</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16205685385445.html" title="安全多方计算与混淆电路" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>安全多方计算与混淆电路</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16092286702660.html" title="安全多方计算" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>安全多方计算</div>
                            </a>
                        </li>
                        

                        
                            </ul>

                        </li>
                        

                    

                        <li class="sidenav-divider mb-1"></li>
                        <li class="sidenav-header small font-weight-semibold">应用技巧</li>


                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16408570070047.html" title="Typora/MWeb中简化数学公式输入" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>Typora/MWeb中简化数学公式输入</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16372025188365.html" title="Beamer的若干技巧" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>Beamer的若干技巧</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16353904758136.html" title="Typora文字两侧插入图片" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>Typora文字两侧插入图片</div>
                            </a>
                        </li>
                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16348897867509.html" title="imagemagick图片处理" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>imagemagick图片处理</div>
                            </a>
                        </li>
                        

                        
                            </ul>

                        </li>
                        

                    

                        <li class="sidenav-divider mb-1"></li>
                        <li class="sidenav-header small font-weight-semibold">奇闻轶事</li>


                        
                        <li class="sidenav-item">
                            <a href="javascript:void(0)" data-url="16410231259573.html" title="Falcom Pastebin Link" class="sidenav-link"><i class="sidenav-icon ion ion-md-document"></i>
                                <div>Falcom Pastebin Link</div>
                            </a>
                        </li>
                        

                        
                            </ul>

                        </li>
                        

                    



                `;
                $("#sidenav-inner").html(innerHt)



              });

            </script>
        </div>
        <!-- / Layout sidenav -->
 <!-- Layout container -->
<div class="layout-container">
    <!-- include _ (layout-navbar.html) -->

    <!-- Layout content -->
    <div class="layout-content   h-100" id="layout-content">

        <!-- Content -->
        <div class="container-fluid flex-grow-1 container-p-y  h-100">

            <!-- include    _  (post-title.html) -->

<!--            <div class="card p-3">-->

<!--                <article class="markdown-body single-content">-->
<!--                    <div class="mweb_toc"><ul>
<li><a href="#%E5%AE%89%E5%85%A8%E5%A4%9A%E6%96%B9%E8%AE%A1%E7%AE%97%E7%9A%84%E6%A6%82%E5%BF%B5">安全多方计算的概念</a>
<ul>
<li><a href="#%E5%AE%89%E5%85%A8%E5%A4%9A%E6%96%B9%E8%AE%A1%E7%AE%97%E7%9A%84%E7%8E%B0%E5%AE%9E%E5%BA%94%E7%94%A8">安全多方计算的现实应用</a></li>
</ul>
</li>
<li><a href="#%E2%80%9C%E5%AE%89%E5%85%A8%E2%80%9D%E7%9A%84%E5%90%AB%E4%B9%89">“安全”的含义</a>
<ul>
<li><a href="#%E5%8D%8A%E8%AF%9A%E5%AE%9E%E5%AE%89%E5%85%A8%E6%80%A7">半诚实安全性</a></li>
</ul>
</li>
<li><a href="#%E6%B7%B7%E6%B7%86%E7%94%B5%E8%B7%AF">混淆电路</a>
<ul>
<li><a href="#%E6%B7%B7%E6%B7%86%E7%9C%9F%E5%80%BC%E8%A1%A8">混淆真值表</a></li>
<li><a href="#%E6%B7%B7%E6%B7%86%E7%94%B5%E8%B7%AF">混淆电路</a></li>
</ul>
</li>
<li><a href="#%E4%B8%8D%E7%BB%8F%E6%84%8F%E4%BC%A0%E8%BE%93">不经意传输</a>
<ul>
<li><a href="#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5">相关链接</a></li>
</ul>
</li>
</ul>
</div>
<blockquote>
<p>本文整理了美国俄勒冈州立大学电子工程和计算机科学学院副教授Mike Rosulek关于安全多方计算与混淆电路的演讲主题的主要内容, 文中图片均来源于Mike Rosulek的演讲报告幻灯片, 请查看文末相关链接中Mike Rosulek的个人主页获取报告文件. 整理如有错误之处, 恳请批评指正, 谢谢!</p>
</blockquote>
<h2><a id="%E5%AE%89%E5%85%A8%E5%A4%9A%E6%96%B9%E8%AE%A1%E7%AE%97%E7%9A%84%E6%A6%82%E5%BF%B5" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>安全多方计算的概念</h2>
<p>安全多方计算是指互不信任的分布式参与方拥有各自的隐私输入, 他们试图在不泄漏各自输入的前提下, 共同计算某个函数, 并获得不超出函数计算结果的输出. 常见的安全多方计算场景有选举、拍卖等. 由于参与方之间是互不信任的, 因此在安全多方计算中通常需要保证如下性质:</p>
<ul>
<li>隐私性(Privacy): 这是最重要的一点, 任何参与方不能获得任何所规定的输出之外的信息;</li>
<li>输入独立性(Input independence): 各个参与方必须独立选择自己的输入, 即不能根据其他参与方的输入来选择自身的输入;</li>
<li>输出一致性(Output consistency): 如果某个参与方获得了输出, 则所有参与方都将获得相同的输出.</li>
<li>...</li>
</ul>
<p>上述性质在某些参与方是作弊或者共谋的情形下仍需保持.</p>
<img src="https://s2.loli.net/2022/04/14/DiFGNw8Z4cYRvEb.png" alt="image-20210509111024877" style="zoom:50%;" />
<h3><a id="%E5%AE%89%E5%85%A8%E5%A4%9A%E6%96%B9%E8%AE%A1%E7%AE%97%E7%9A%84%E7%8E%B0%E5%AE%9E%E5%BA%94%E7%94%A8" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>安全多方计算的现实应用</h3>
<p>2009年起的丹麦使用安全多方计算来计算市场均衡时甜菜的价格, 并保证菜农和购买方无法得到关于对方心理价位的信息, 这是安全多方计算在现实世界中的一次大规模应用, 其他例子, 还有广告输入、2017年波士顿工资平等研究等等.</p>
<h2><a id="%E2%80%9C%E5%AE%89%E5%85%A8%E2%80%9D%E7%9A%84%E5%90%AB%E4%B9%89" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>“安全”的含义</h2>
<p>如何理解“安全地”计算\(f\)的含义? 不妨列举一下安全性所需属性问题:</p>
<ul>
<li>
<p>如果敌手获得的信息不只有\(f(x,y)\), 该怎么办?</p>
</li>
<li>
<p>如果敌手获得了\(f(x,y)\), 但阻止诚实参与方获得它, 该怎么办?</p>
</li>
<li>
<p>如果敌手迫使多个参与方的输出不一致, 该怎么办?</p>
</li>
<li>
<p>如果敌手选取的输入取决于诚实参与方的输入, 该怎么办?</p>
</li>
<li>
<p>...</p>
</li>
</ul>
<p>实际上, 我们不会通过列表来定义安全性需要满足的属性. 我们需要给安全计算的安全性下一个定义, 即理想世界与现实世界范式(Ideal-Real world paradigm). 考虑两个参与方Alice和Bob, 分别拥有自己的隐私输入\(x\)和\(y\),  他们想计算\(f(x,y)\). 在理想世界中, 他们只需将各自的输入发给可信第三方(Trusted Third Party, TTP), TTP计算并返回\(f(x,y)\)给各参与方. 腐败参与方Bob在这个理想世界中: 可以选取任何输入\(y\)(但独立于输入\(x\)); 除了能获得\(f(x,y)\)的计算结果之外, 不能获得其他信息; 让诚实参与方Alice获得\(f(x,y)\), 而不是任何其他结果, 因为TTP只会发送正确的计算结果给诚实参与方. 因此, 理想世界非常简单, 敌手不能在其中做任何有害(harmful)的事情. 通过理想-现实范式(Ideal-Real paradigm)来定义多方计算的安全性, 其安全目标是现实协议交互与理想世界交互一样安全, 即任何对于真实协议的“攻击”, 都可以在理想世界中实现“相同的效果”. 我们知道在理想世界中唯一会发生的事情是harmless, 这意味着, 在现实世界中攻击协议会发生的事情也是harmless. 通常攻击的“效果”指的是敌手可获得或者计算出关于诚实参与方的信息或对诚实参与方输出造成某些影响. 这样, 我们可以给多方计算协议安全下一个定义:</p>
<blockquote>
<p>对于任何现实世界的敌手\(\mathcal A\), 存在一个理想敌手\(\mathcal A’\), 使得诚实参与方输出与敌手输出(HonestOutput, AdvOutput)的联合分布不可区分.</p>
</blockquote>
<p>不失一般性, 通常在理想世界中, 假设存在一个模拟器(Simulator)模拟敌手与现实世界交互. 模拟器有两个任务:</p>
<ul>
<li>发送看起来像来自诚实参与方的协议信息;</li>
<li>通过检查敌手的协议信息来提取(extract)\(f\)的输入.</li>
</ul>
<img src="https://s2.loli.net/2022/04/14/xn8iESukVh6YMsy.png" alt="image-20210509112104300" style="zoom:50%;" />
<h3><a id="%E5%8D%8A%E8%AF%9A%E5%AE%9E%E5%AE%89%E5%85%A8%E6%80%A7" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>半诚实安全性</h3>
<p>半诚实(Semi-honest, 或称为被动passive, 诚实但好奇honest-but-curious)敌手是一种特殊情况:</p>
<ul>
<li>给定输入, 敌手会诚实地遵循协议;</li>
<li>敌手可能会基于他的视图尝试获取相关信息;</li>
<li>无提取(extract)步骤, 仅在给定理想输入和输出的情形下模拟序列(transcript).</li>
</ul>
<img src="https://s2.loli.net/2022/04/14/lyOFA5uioDn7ksj.png" alt="image-20210509111358997" style="zoom:50%;" />
<p>2000年, Ran Canetti提出的通用可组合(Universally Composable, UC)框架, 详细介绍了协议的安全性证明, 相关内容读者可以参考Ran Canetti的这篇文章<a href="https://eprint.iacr.org/2000/067">Universally Composable Security: A New Paradigm for Cryptographic Protocols</a>, 这里不再做详细介绍.</p>
<h2><a id="%E6%B7%B7%E6%B7%86%E7%94%B5%E8%B7%AF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>混淆电路</h2>
<p>混淆电路(Garbled circuit)协议, 是布尔电路的半诚实安全计算协议, 最早由姚期智教授在1986年提出. 在介绍该协议之前, 我们先简单介绍混淆真值表(Garbled truth table)的相关内容.</p>
<h3><a id="%E6%B7%B7%E6%B7%86%E7%9C%9F%E5%80%BC%E8%A1%A8" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>混淆真值表</h3>
<p>假设拥有隐私输入\(x\)的Alice和拥有隐私输入\(y\)的Bob想共同计算某个函数\(f(x,y)\). Alice进行如下操作:</p>
<ol>
<li>写出函数\(f\)的真值表\(f(x,y)\);</li>
<li>对每个可能的输入\((x,y)\), 选取随机密钥\((A_x,B_y)\);</li>
<li>使用相应的密钥加密每个输出: \(\mathbb E_{A_x,B_y}(f(x,y))\);</li>
<li>随机打乱密文的顺序, 并将所有密文发给Bob.</li>
</ol>
<p>先假设Bob获得了正确的\(A_x,B_y\)(前者由Alice直接发送, 后者使用不经意传输Oblivious transfer, 这里暂不说明, 后面再补充), 通过试解密所有的密文, 只有一个密文\(\mathbb E_{A_x,B_y}(f(x,y))\)可以被成功解密, 即Bob只能得到\(f(x,y)\), 这就是两方所要计算的函数结果.</p>
<p>可以证明在仅仅给定Bob理想输入/输出的前提下, 模拟器可以模拟协议中Bob的视图(View).</p>
<img src="https://s2.loli.net/2022/04/14/xaD4vAhlzq2oTmV.png" alt="image-20210508144032407" style="zoom:50%;" />
<p>上述混淆真值表方案有一个缺点: 开销与\(f\)的真值表大小成正比! 解决方案是与其加密函数的输出, 不如加密更多混淆真值表的密钥.</p>
<img src="https://s2.loli.net/2022/04/14/LX7hPZ135xqbEsk.png" alt="image-20210508145437595" style="zoom:50%;" />
<h3><a id="%E6%B7%B7%E6%B7%86%E7%94%B5%E8%B7%AF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>混淆电路</h3>
<p>Alice和Bob想使用他们的隐私输入\(x,y\)共同计算函数\(f(x,y)\), 首先将函数\(f\)写成布尔电路的形式, 布尔电路的每个门(gate)拥有两条输入线路(wire)和一条输出电线, 输入线路分别对应于两个参与方隐私输入的单个比特, 且每个门都对应着一个真值表, 双方将使用该布尔电路来计算函数\(f\).</p>
<p>Alice作为电路混淆者(Garbler)生成并混淆整个电路: 为每条输入/输出线路选取两个随机标签\(W_0,W_1\), 分别代表线路真值0和1的标签, 为描述简单起见, 在下文中我们称输入线路上的标签为混淆输入(Garbled input), 输出线路上的标签为混淆输出(Garbled output); 使用每个门的混淆输入来加密门的真值表, 这样, 每个门都有4个密文; 将每个门的密文全部打乱后, 发送给Bob. 易见, 总的密文个数为门数的4倍. Bob作为电路评估者(Evaluator), 对于每个加密门, 使用从Alice处得到的混淆输入来解密该门对应的四个密文, 每个门只有一个密文可以被解密成功, 解密的结果为输出线路的标签值, 即混淆输出. 如下图所示. 注意到第三和第四个混淆表所对应的门是相同的, 但混淆表并不相同. 这是因为即使两个门类型相同, Alice也必须为其生成不同的混淆真值表而不能重用, 否则不同的混淆输入将泄漏混淆标签对应真值, 读者可以自行推理, 这里不做进一步探讨.</p>
<img src="https://s2.loli.net/2022/04/14/3X2SioWz46cJ7d1.png" alt="image-20210508154642213" style="zoom:50%;" />
<p>下面谈谈混淆电路的安全性. 主要思想是, 给定混淆电路和混淆输入, Bob只能盲目地(blindly)计算电路, 每条线路获得一个标签, 而难以猜测与之“互补”的那个标签. Bob所得到的单个标签隐藏了线路的逻辑真值, 由于标签是由Alice随机选取的, 因此Bob无法获知该标签与逻辑真值的对应关系. 最后Alice告诉Bob最终输出线路的标签与逻辑真值的对应关系即可得到电路的最终输出.</p>
<img src="https://s2.loli.net/2022/04/14/LkgwQJsfOzFBjmT.png" alt="image-20210508163732356" style="zoom:50%;" />
<p>关于混淆电路的正式定义、具体混淆方案、安全性证明等相关信息, 读者可以参考2012年的这篇文章: <a href="https://eprint.iacr.org/2012/265">Foundations of Garbled Circuits</a>. 如下图所示, 正式安全属性主要考虑以下三点:</p>
<ul>
<li>隐私性(Privacy): 混淆电路\(F\), 混淆输入\(X\)和解码信息\(d\)不会泄漏除函数\(f\)和\(f(x)\)之外的任何信息.</li>
</ul>
<p>如果Alice发送所有门的混淆密文、部分混淆输入(上图中的\(A_1,B_0,C_0,D_1\))以及混淆输出(上图中的\(I_0,I_1\))给Bob, 则Bob确实可以得到输出\(f(x)\)(即上图中的\(I_0\)). 当试图隐藏布尔电路时, 实际上只需要隐藏门的混淆输入以及中间门的混淆输出, 但整个布尔电路是公开的, 因此会泄漏函数\(f\). 即除了\(f(x),f\)之外, \((F,X,d)\)没有泄漏其他更多信息.</p>
<ul>
<li>
<p>不经意性(Obliviousness): 混淆电路\(F\)和混淆输入\(X\)不会泄漏除函数\(f\)之外的任何信息.</p>
</li>
<li>
<p>可靠性(Authenticity): 给定混淆电路\(F\)和混淆输入\(X\), 很难找到\(\tilde{Y}\)使得其解码后不属于集合\(\{f(x),\perp\}\).</p>
</li>
</ul>
<p>如果Alice发送所有门的混淆密文、部分混淆输入(上图中的\(A_1,B_0,C_0,D_1\)), 则Bob可以得到其中一个混淆输出(上图中的\(I_0\)), 但如果Alice不告诉Bob另一个混淆输出(上图中的\(I_1\))是什么, 即不发送解码信息给Bob, 则Bob无法获得函数\(f(x)\)的具体输出. Bob很难找到解码后不属于集合\(\{f(x),\perp\}\)中的其他混淆输出\(\tilde{Y}\)来欺骗Alice.</p>
<p>还有一些其他有趣的概念, 了解其存在即可, 这里不做深究:</p>
<ul>
<li>自适应安全性(Adaptive security): 输入的选取可取决于混淆电路;</li>
<li>门隐藏(Gate-hiding): 混淆电路\(F\), 混淆输入\(X\)和解码信息\(d\)不会泄漏除函数\(f\)的<em>拓扑结构</em>和\(f(x)\)之外的任何信息.</li>
</ul>
<img src="https://s2.loli.net/2022/04/14/8dcLSBZmU7leGQh.png" alt="image-20210508164642572" style="zoom:50%;" />
<h2><a id="%E4%B8%8D%E7%BB%8F%E6%84%8F%E4%BC%A0%E8%BE%93" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>不经意传输</h2>
<p>前面我们提到, 电路评估者Bob解密用的混淆输入分别是两方对应输入比特的标签, \(A_x\)可由Alice根据他的输入比特直接发送相应的混淆输入标签给Bob, 但是Bob如何获得他的输入比特\(y\)所对应的混淆输入标签呢? 注意到混淆电路是由Alice生成的, 因此只有Alice才知道混淆输入. 解决方案是两方需要运行一个不经意传输(Oblivious Transfer, OT)协议. Alice作为OT发送方, 取Bob输入线路的两个混淆输入\((W_0,W_1)\)作为OT的输入, Bob作为OT接收方, 将他在该线路上的隐私输入\(c\)作为OT的输入. 在协议结束后, Bob可以获得他在该线路上的混淆输入为\(W_c\), 但对\(W_{1-c}\)一无所知, 而Alice无法获知Bob得到了哪一个混淆输入(因为Alice并不知道Bob的隐私输入\(c\)).</p>
<img src="https://s2.loli.net/2022/04/14/AZDB1lTfEcILhjP.png" alt="image-20210509100245594" style="zoom:50%;" />
<p>那么如何构造不经意传输协议呢? 我们可以使用支持盲密钥生成(blind key generation)的公钥密码来构造. 具体步骤如下: OT接收者首先运行密钥生成算法\(\mathsf{KeyGen}\)生成一组公私钥对\((sk_c,pk_c)\), 然后使用\(\mathsf{BlindKeyGen}\)生成一个没有私钥的公钥\(pk_{1-c}\), 将两个公钥\((pk_0,pk_1)\)发送给OT发送者; OT发送者分别使用两个公钥加密两个混淆输入\(W_0,W_1\)得到两个密文\(\mathbb{E}_{pk_0}(W_0), \mathbb{E}_{pk_1}(W_1)\), 并将其发送给OT接收者; OT接收者使用私钥\(sk_c\)解密\(\mathbb{E}_{pk_c}(W_c)\)得到\(W_c\), 此即为混淆电路中Bob隐私输入所对应的混淆输入, OT发送者没有输出. 可以使用的公钥密码体制, 如ElGamal公钥密码体制, 其特点是选取群元素无需知道离散对数.</p>
<img src="https://s2.loli.net/2022/04/14/UuzhA3dHmJLCctQ.png" alt="image-20210509101151902" style="zoom:50%;" />
<p>下面我们来概括一下混淆电路的步骤.</p>
<ol>
<li>Alice将生成的混淆电路\(f\)的打乱后的密文, 他的混淆的输入\(x\)和输出线路的所有标签发给Bob;</li>
<li>对于Bob的每条输入线路, Bob与Alice运行不经意传输协议, 得到混淆的输入\(y\);</li>
<li>当Bob评估完混淆电路后, 通过输出线路的标签得到电路的计算结果\(f(x,y)\), 并将其发给Alice.</li>
</ol>
<p>给定混淆电路\(f\), 混淆输入和所有的输出标签, Bob可以获得且只能获得电路输出\(f(x,y)\), Alice不能从OT协议中获得其他信息, 因此他只能获得Bob告诉他的电路输出结果\(f(x,y)\).</p>
<img src="https://s2.loli.net/2022/04/14/sUFKlthXBExYCQI.png" alt="image-20210509101151902" style="zoom:50%;" />
<h3><a id="%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>相关链接</h3>
<p>Mike Rosulek的个人主页: <a href="http://web.engr.oregonstate.edu/~rosulekm/">Mike Rosulek (oregonstate.edu)</a></p>
<p>相关文章链接:</p>
<p><a href="https://eprint.iacr.org/2000/067">Cryptology ePrint Archive: Report 2000/067 - Universally Composable Security: A New Paradigm for Cryptographic Protocols (iacr.org)</a>.</p>
<p><a href="https://eprint.iacr.org/2012/265">Cryptology ePrint Archive: Report 2012/265 - Foundations of Garbled Circuits (iacr.org)</a>.</p>
-->
<!--                </article>-->


<!--            </div>-->


            <div class="chat-wrapper  h-100">

                <!-- Make card full height of `.chat-wrapper` -->
                <div class="card flex-grow-1 position-relative overflow-hidden ">

                    <!-- Make row full height of `.card` -->
                    <div class="row no-gutters h-100">
                        <div class="chat-sidebox col">

                            <!-- Chat contacts header -->
                            <!-- <div class="flex-grow-0 px-4">
                                <div class="media align-items-center">
                                    <div class="media-body">
                                        <input type="text" class="form-control chat-search my-3" placeholder="Search...">
                                    </div>
                                    <a href="javascript:void(0)" class="chat-sidebox-toggler d-lg-none d-block text-muted text-large font-weight-light pl-3">&times;</a>
                                </div>
                                <hr class="border-light m-0">
                            </div> -->
                            <!-- / Chat contacts header -->

                            <!-- Wrap `.chat-scroll` to properly position scroll area. Remove this wtapper if you don't need scroll -->
                            <div class="flex-grow-1 position-relative">
                                <div class="chat-contacts list-group chat-scroll py-3" style="padding: 10px;" >




                                    <!-- <ul id="toc_container" class="py-1" style="list-style: none; padding-left: 0;"></ul> -->

                                    <ul id="toc_container" style="list-style: none; padding-left: 0;"></ul>

                                </div><!-- / .chat-contacts -->
                            </div>

                        </div>
                        <div class="d-flex col flex-column">

                            <!-- Chat header -->
                            <div class="flex-grow-0 py-3 pr-4 pl-lg-4">

                                <div class="media align-items-center">
                                    <a href="javascript:void(0)" class="chat-sidebox-toggler d-lg-none d-block text-muted text-large px-4 mr-2"><i class="ion ion-md-more"></i></a>


<!--                                    <div class="media-body pl-3">-->
<!--                                        <h1>Kenneth Frazier</h1>-->
<!--                                        <div class="text-muted small"><em>Typing...</em></div>-->
<!--                                    </div>-->

                                    <!--<h2 id="post-header" class="font-weight-bold py-0">-->
<!--    安全多方计算与混淆电路-->
<!--    <div class="text-muted text-tiny mt-1"><small class="font-weight-normal">2021/05/09 21:55 下午</small></div>-->
<!--</h2>-->

<div class="media-body pl-3">
    <h1 id="post-header">安全多方计算与混淆电路</h1>
    <div class="text-muted small"><em>2021/05/09 21:55 下午</em>
        
        <span class="ml-2">标签:</span>
        
        <a href="tag_%E5%AF%86%E7%A0%81%E5%AD%A6%E7%90%86%E8%AE%BA.html" class="badge badge-default align-text-bottom ml-1 text-muted">#密码学理论</a>
        
        
    </div>
</div>

<link rel="stylesheet" href="asset/chat.css">

<script type="text/javascript">
    jQuery(document).ready(function($) {
        // add toc to article element
        $("#article_with_toc").toc(
          {
              strip: true,
              stripAfter: 100,
              container: "#toc_container",
              scrollSpeed: 1,
              scrollOffset: 135
          });
    });
</script>



                                    <!-- <div>
                                      <button type="button" class="btn btn-primary rounded-pill icon-btn mr-1"><i class="ion ion-ios-call"></i></button>
                                      <button type="button" class="btn btn-secondary rounded-pill icon-btn mr-1"><i class="ion ion-md-videocam"></i></button>
                                      <button type="button" class="btn btn-default rounded-pill icon-btn"><i class="ion ion-ios-more"></i></button>
                                    </div> -->
                                </div>

                            </div>
                            <hr class="flex-grow-0 border-light m-0">
                            <!-- / Chat header -->

                            <!-- Wrap `.chat-scroll` to properly position scroll area. Remove this wtapper if you don't need scroll -->
                            <div class="flex-grow-1 position-relative">

                                <!-- Remove `.chat-scroll` and add `.flex-grow-1` if you don't need scroll -->
                                <div class="chat-scroll p-4 v-scroll-spy markdown-body" id="article_with_toc">

                                    <div class="mweb_toc"><ul>
<li><a href="#%E5%AE%89%E5%85%A8%E5%A4%9A%E6%96%B9%E8%AE%A1%E7%AE%97%E7%9A%84%E6%A6%82%E5%BF%B5">安全多方计算的概念</a>
<ul>
<li><a href="#%E5%AE%89%E5%85%A8%E5%A4%9A%E6%96%B9%E8%AE%A1%E7%AE%97%E7%9A%84%E7%8E%B0%E5%AE%9E%E5%BA%94%E7%94%A8">安全多方计算的现实应用</a></li>
</ul>
</li>
<li><a href="#%E2%80%9C%E5%AE%89%E5%85%A8%E2%80%9D%E7%9A%84%E5%90%AB%E4%B9%89">“安全”的含义</a>
<ul>
<li><a href="#%E5%8D%8A%E8%AF%9A%E5%AE%9E%E5%AE%89%E5%85%A8%E6%80%A7">半诚实安全性</a></li>
</ul>
</li>
<li><a href="#%E6%B7%B7%E6%B7%86%E7%94%B5%E8%B7%AF">混淆电路</a>
<ul>
<li><a href="#%E6%B7%B7%E6%B7%86%E7%9C%9F%E5%80%BC%E8%A1%A8">混淆真值表</a></li>
<li><a href="#%E6%B7%B7%E6%B7%86%E7%94%B5%E8%B7%AF">混淆电路</a></li>
</ul>
</li>
<li><a href="#%E4%B8%8D%E7%BB%8F%E6%84%8F%E4%BC%A0%E8%BE%93">不经意传输</a>
<ul>
<li><a href="#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5">相关链接</a></li>
</ul>
</li>
</ul>
</div>
<blockquote>
<p>本文整理了美国俄勒冈州立大学电子工程和计算机科学学院副教授Mike Rosulek关于安全多方计算与混淆电路的演讲主题的主要内容, 文中图片均来源于Mike Rosulek的演讲报告幻灯片, 请查看文末相关链接中Mike Rosulek的个人主页获取报告文件. 整理如有错误之处, 恳请批评指正, 谢谢!</p>
</blockquote>
<h2><a id="%E5%AE%89%E5%85%A8%E5%A4%9A%E6%96%B9%E8%AE%A1%E7%AE%97%E7%9A%84%E6%A6%82%E5%BF%B5" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>安全多方计算的概念</h2>
<p>安全多方计算是指互不信任的分布式参与方拥有各自的隐私输入, 他们试图在不泄漏各自输入的前提下, 共同计算某个函数, 并获得不超出函数计算结果的输出. 常见的安全多方计算场景有选举、拍卖等. 由于参与方之间是互不信任的, 因此在安全多方计算中通常需要保证如下性质:</p>
<ul>
<li>隐私性(Privacy): 这是最重要的一点, 任何参与方不能获得任何所规定的输出之外的信息;</li>
<li>输入独立性(Input independence): 各个参与方必须独立选择自己的输入, 即不能根据其他参与方的输入来选择自身的输入;</li>
<li>输出一致性(Output consistency): 如果某个参与方获得了输出, 则所有参与方都将获得相同的输出.</li>
<li>...</li>
</ul>
<p>上述性质在某些参与方是作弊或者共谋的情形下仍需保持.</p>
<img src="https://s2.loli.net/2022/04/14/DiFGNw8Z4cYRvEb.png" alt="image-20210509111024877" style="zoom:50%;" />
<h3><a id="%E5%AE%89%E5%85%A8%E5%A4%9A%E6%96%B9%E8%AE%A1%E7%AE%97%E7%9A%84%E7%8E%B0%E5%AE%9E%E5%BA%94%E7%94%A8" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>安全多方计算的现实应用</h3>
<p>2009年起的丹麦使用安全多方计算来计算市场均衡时甜菜的价格, 并保证菜农和购买方无法得到关于对方心理价位的信息, 这是安全多方计算在现实世界中的一次大规模应用, 其他例子, 还有广告输入、2017年波士顿工资平等研究等等.</p>
<h2><a id="%E2%80%9C%E5%AE%89%E5%85%A8%E2%80%9D%E7%9A%84%E5%90%AB%E4%B9%89" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>“安全”的含义</h2>
<p>如何理解“安全地”计算\(f\)的含义? 不妨列举一下安全性所需属性问题:</p>
<ul>
<li>
<p>如果敌手获得的信息不只有\(f(x,y)\), 该怎么办?</p>
</li>
<li>
<p>如果敌手获得了\(f(x,y)\), 但阻止诚实参与方获得它, 该怎么办?</p>
</li>
<li>
<p>如果敌手迫使多个参与方的输出不一致, 该怎么办?</p>
</li>
<li>
<p>如果敌手选取的输入取决于诚实参与方的输入, 该怎么办?</p>
</li>
<li>
<p>...</p>
</li>
</ul>
<p>实际上, 我们不会通过列表来定义安全性需要满足的属性. 我们需要给安全计算的安全性下一个定义, 即理想世界与现实世界范式(Ideal-Real world paradigm). 考虑两个参与方Alice和Bob, 分别拥有自己的隐私输入\(x\)和\(y\),  他们想计算\(f(x,y)\). 在理想世界中, 他们只需将各自的输入发给可信第三方(Trusted Third Party, TTP), TTP计算并返回\(f(x,y)\)给各参与方. 腐败参与方Bob在这个理想世界中: 可以选取任何输入\(y\)(但独立于输入\(x\)); 除了能获得\(f(x,y)\)的计算结果之外, 不能获得其他信息; 让诚实参与方Alice获得\(f(x,y)\), 而不是任何其他结果, 因为TTP只会发送正确的计算结果给诚实参与方. 因此, 理想世界非常简单, 敌手不能在其中做任何有害(harmful)的事情. 通过理想-现实范式(Ideal-Real paradigm)来定义多方计算的安全性, 其安全目标是现实协议交互与理想世界交互一样安全, 即任何对于真实协议的“攻击”, 都可以在理想世界中实现“相同的效果”. 我们知道在理想世界中唯一会发生的事情是harmless, 这意味着, 在现实世界中攻击协议会发生的事情也是harmless. 通常攻击的“效果”指的是敌手可获得或者计算出关于诚实参与方的信息或对诚实参与方输出造成某些影响. 这样, 我们可以给多方计算协议安全下一个定义:</p>
<blockquote>
<p>对于任何现实世界的敌手\(\mathcal A\), 存在一个理想敌手\(\mathcal A’\), 使得诚实参与方输出与敌手输出(HonestOutput, AdvOutput)的联合分布不可区分.</p>
</blockquote>
<p>不失一般性, 通常在理想世界中, 假设存在一个模拟器(Simulator)模拟敌手与现实世界交互. 模拟器有两个任务:</p>
<ul>
<li>发送看起来像来自诚实参与方的协议信息;</li>
<li>通过检查敌手的协议信息来提取(extract)\(f\)的输入.</li>
</ul>
<img src="https://s2.loli.net/2022/04/14/xn8iESukVh6YMsy.png" alt="image-20210509112104300" style="zoom:50%;" />
<h3><a id="%E5%8D%8A%E8%AF%9A%E5%AE%9E%E5%AE%89%E5%85%A8%E6%80%A7" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>半诚实安全性</h3>
<p>半诚实(Semi-honest, 或称为被动passive, 诚实但好奇honest-but-curious)敌手是一种特殊情况:</p>
<ul>
<li>给定输入, 敌手会诚实地遵循协议;</li>
<li>敌手可能会基于他的视图尝试获取相关信息;</li>
<li>无提取(extract)步骤, 仅在给定理想输入和输出的情形下模拟序列(transcript).</li>
</ul>
<img src="https://s2.loli.net/2022/04/14/lyOFA5uioDn7ksj.png" alt="image-20210509111358997" style="zoom:50%;" />
<p>2000年, Ran Canetti提出的通用可组合(Universally Composable, UC)框架, 详细介绍了协议的安全性证明, 相关内容读者可以参考Ran Canetti的这篇文章<a href="https://eprint.iacr.org/2000/067">Universally Composable Security: A New Paradigm for Cryptographic Protocols</a>, 这里不再做详细介绍.</p>
<h2><a id="%E6%B7%B7%E6%B7%86%E7%94%B5%E8%B7%AF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>混淆电路</h2>
<p>混淆电路(Garbled circuit)协议, 是布尔电路的半诚实安全计算协议, 最早由姚期智教授在1986年提出. 在介绍该协议之前, 我们先简单介绍混淆真值表(Garbled truth table)的相关内容.</p>
<h3><a id="%E6%B7%B7%E6%B7%86%E7%9C%9F%E5%80%BC%E8%A1%A8" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>混淆真值表</h3>
<p>假设拥有隐私输入\(x\)的Alice和拥有隐私输入\(y\)的Bob想共同计算某个函数\(f(x,y)\). Alice进行如下操作:</p>
<ol>
<li>写出函数\(f\)的真值表\(f(x,y)\);</li>
<li>对每个可能的输入\((x,y)\), 选取随机密钥\((A_x,B_y)\);</li>
<li>使用相应的密钥加密每个输出: \(\mathbb E_{A_x,B_y}(f(x,y))\);</li>
<li>随机打乱密文的顺序, 并将所有密文发给Bob.</li>
</ol>
<p>先假设Bob获得了正确的\(A_x,B_y\)(前者由Alice直接发送, 后者使用不经意传输Oblivious transfer, 这里暂不说明, 后面再补充), 通过试解密所有的密文, 只有一个密文\(\mathbb E_{A_x,B_y}(f(x,y))\)可以被成功解密, 即Bob只能得到\(f(x,y)\), 这就是两方所要计算的函数结果.</p>
<p>可以证明在仅仅给定Bob理想输入/输出的前提下, 模拟器可以模拟协议中Bob的视图(View).</p>
<img src="https://s2.loli.net/2022/04/14/xaD4vAhlzq2oTmV.png" alt="image-20210508144032407" style="zoom:50%;" />
<p>上述混淆真值表方案有一个缺点: 开销与\(f\)的真值表大小成正比! 解决方案是与其加密函数的输出, 不如加密更多混淆真值表的密钥.</p>
<img src="https://s2.loli.net/2022/04/14/LX7hPZ135xqbEsk.png" alt="image-20210508145437595" style="zoom:50%;" />
<h3><a id="%E6%B7%B7%E6%B7%86%E7%94%B5%E8%B7%AF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>混淆电路</h3>
<p>Alice和Bob想使用他们的隐私输入\(x,y\)共同计算函数\(f(x,y)\), 首先将函数\(f\)写成布尔电路的形式, 布尔电路的每个门(gate)拥有两条输入线路(wire)和一条输出电线, 输入线路分别对应于两个参与方隐私输入的单个比特, 且每个门都对应着一个真值表, 双方将使用该布尔电路来计算函数\(f\).</p>
<p>Alice作为电路混淆者(Garbler)生成并混淆整个电路: 为每条输入/输出线路选取两个随机标签\(W_0,W_1\), 分别代表线路真值0和1的标签, 为描述简单起见, 在下文中我们称输入线路上的标签为混淆输入(Garbled input), 输出线路上的标签为混淆输出(Garbled output); 使用每个门的混淆输入来加密门的真值表, 这样, 每个门都有4个密文; 将每个门的密文全部打乱后, 发送给Bob. 易见, 总的密文个数为门数的4倍. Bob作为电路评估者(Evaluator), 对于每个加密门, 使用从Alice处得到的混淆输入来解密该门对应的四个密文, 每个门只有一个密文可以被解密成功, 解密的结果为输出线路的标签值, 即混淆输出. 如下图所示. 注意到第三和第四个混淆表所对应的门是相同的, 但混淆表并不相同. 这是因为即使两个门类型相同, Alice也必须为其生成不同的混淆真值表而不能重用, 否则不同的混淆输入将泄漏混淆标签对应真值, 读者可以自行推理, 这里不做进一步探讨.</p>
<img src="https://s2.loli.net/2022/04/14/3X2SioWz46cJ7d1.png" alt="image-20210508154642213" style="zoom:50%;" />
<p>下面谈谈混淆电路的安全性. 主要思想是, 给定混淆电路和混淆输入, Bob只能盲目地(blindly)计算电路, 每条线路获得一个标签, 而难以猜测与之“互补”的那个标签. Bob所得到的单个标签隐藏了线路的逻辑真值, 由于标签是由Alice随机选取的, 因此Bob无法获知该标签与逻辑真值的对应关系. 最后Alice告诉Bob最终输出线路的标签与逻辑真值的对应关系即可得到电路的最终输出.</p>
<img src="https://s2.loli.net/2022/04/14/LkgwQJsfOzFBjmT.png" alt="image-20210508163732356" style="zoom:50%;" />
<p>关于混淆电路的正式定义、具体混淆方案、安全性证明等相关信息, 读者可以参考2012年的这篇文章: <a href="https://eprint.iacr.org/2012/265">Foundations of Garbled Circuits</a>. 如下图所示, 正式安全属性主要考虑以下三点:</p>
<ul>
<li>隐私性(Privacy): 混淆电路\(F\), 混淆输入\(X\)和解码信息\(d\)不会泄漏除函数\(f\)和\(f(x)\)之外的任何信息.</li>
</ul>
<p>如果Alice发送所有门的混淆密文、部分混淆输入(上图中的\(A_1,B_0,C_0,D_1\))以及混淆输出(上图中的\(I_0,I_1\))给Bob, 则Bob确实可以得到输出\(f(x)\)(即上图中的\(I_0\)). 当试图隐藏布尔电路时, 实际上只需要隐藏门的混淆输入以及中间门的混淆输出, 但整个布尔电路是公开的, 因此会泄漏函数\(f\). 即除了\(f(x),f\)之外, \((F,X,d)\)没有泄漏其他更多信息.</p>
<ul>
<li>
<p>不经意性(Obliviousness): 混淆电路\(F\)和混淆输入\(X\)不会泄漏除函数\(f\)之外的任何信息.</p>
</li>
<li>
<p>可靠性(Authenticity): 给定混淆电路\(F\)和混淆输入\(X\), 很难找到\(\tilde{Y}\)使得其解码后不属于集合\(\{f(x),\perp\}\).</p>
</li>
</ul>
<p>如果Alice发送所有门的混淆密文、部分混淆输入(上图中的\(A_1,B_0,C_0,D_1\)), 则Bob可以得到其中一个混淆输出(上图中的\(I_0\)), 但如果Alice不告诉Bob另一个混淆输出(上图中的\(I_1\))是什么, 即不发送解码信息给Bob, 则Bob无法获得函数\(f(x)\)的具体输出. Bob很难找到解码后不属于集合\(\{f(x),\perp\}\)中的其他混淆输出\(\tilde{Y}\)来欺骗Alice.</p>
<p>还有一些其他有趣的概念, 了解其存在即可, 这里不做深究:</p>
<ul>
<li>自适应安全性(Adaptive security): 输入的选取可取决于混淆电路;</li>
<li>门隐藏(Gate-hiding): 混淆电路\(F\), 混淆输入\(X\)和解码信息\(d\)不会泄漏除函数\(f\)的<em>拓扑结构</em>和\(f(x)\)之外的任何信息.</li>
</ul>
<img src="https://s2.loli.net/2022/04/14/8dcLSBZmU7leGQh.png" alt="image-20210508164642572" style="zoom:50%;" />
<h2><a id="%E4%B8%8D%E7%BB%8F%E6%84%8F%E4%BC%A0%E8%BE%93" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>不经意传输</h2>
<p>前面我们提到, 电路评估者Bob解密用的混淆输入分别是两方对应输入比特的标签, \(A_x\)可由Alice根据他的输入比特直接发送相应的混淆输入标签给Bob, 但是Bob如何获得他的输入比特\(y\)所对应的混淆输入标签呢? 注意到混淆电路是由Alice生成的, 因此只有Alice才知道混淆输入. 解决方案是两方需要运行一个不经意传输(Oblivious Transfer, OT)协议. Alice作为OT发送方, 取Bob输入线路的两个混淆输入\((W_0,W_1)\)作为OT的输入, Bob作为OT接收方, 将他在该线路上的隐私输入\(c\)作为OT的输入. 在协议结束后, Bob可以获得他在该线路上的混淆输入为\(W_c\), 但对\(W_{1-c}\)一无所知, 而Alice无法获知Bob得到了哪一个混淆输入(因为Alice并不知道Bob的隐私输入\(c\)).</p>
<img src="https://s2.loli.net/2022/04/14/AZDB1lTfEcILhjP.png" alt="image-20210509100245594" style="zoom:50%;" />
<p>那么如何构造不经意传输协议呢? 我们可以使用支持盲密钥生成(blind key generation)的公钥密码来构造. 具体步骤如下: OT接收者首先运行密钥生成算法\(\mathsf{KeyGen}\)生成一组公私钥对\((sk_c,pk_c)\), 然后使用\(\mathsf{BlindKeyGen}\)生成一个没有私钥的公钥\(pk_{1-c}\), 将两个公钥\((pk_0,pk_1)\)发送给OT发送者; OT发送者分别使用两个公钥加密两个混淆输入\(W_0,W_1\)得到两个密文\(\mathbb{E}_{pk_0}(W_0), \mathbb{E}_{pk_1}(W_1)\), 并将其发送给OT接收者; OT接收者使用私钥\(sk_c\)解密\(\mathbb{E}_{pk_c}(W_c)\)得到\(W_c\), 此即为混淆电路中Bob隐私输入所对应的混淆输入, OT发送者没有输出. 可以使用的公钥密码体制, 如ElGamal公钥密码体制, 其特点是选取群元素无需知道离散对数.</p>
<img src="https://s2.loli.net/2022/04/14/UuzhA3dHmJLCctQ.png" alt="image-20210509101151902" style="zoom:50%;" />
<p>下面我们来概括一下混淆电路的步骤.</p>
<ol>
<li>Alice将生成的混淆电路\(f\)的打乱后的密文, 他的混淆的输入\(x\)和输出线路的所有标签发给Bob;</li>
<li>对于Bob的每条输入线路, Bob与Alice运行不经意传输协议, 得到混淆的输入\(y\);</li>
<li>当Bob评估完混淆电路后, 通过输出线路的标签得到电路的计算结果\(f(x,y)\), 并将其发给Alice.</li>
</ol>
<p>给定混淆电路\(f\), 混淆输入和所有的输出标签, Bob可以获得且只能获得电路输出\(f(x,y)\), Alice不能从OT协议中获得其他信息, 因此他只能获得Bob告诉他的电路输出结果\(f(x,y)\).</p>
<img src="https://s2.loli.net/2022/04/14/sUFKlthXBExYCQI.png" alt="image-20210509101151902" style="zoom:50%;" />
<h3><a id="%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>相关链接</h3>
<p>Mike Rosulek的个人主页: <a href="http://web.engr.oregonstate.edu/~rosulekm/">Mike Rosulek (oregonstate.edu)</a></p>
<p>相关文章链接:</p>
<p><a href="https://eprint.iacr.org/2000/067">Cryptology ePrint Archive: Report 2000/067 - Universally Composable Security: A New Paradigm for Cryptographic Protocols (iacr.org)</a>.</p>
<p><a href="https://eprint.iacr.org/2012/265">Cryptology ePrint Archive: Report 2012/265 - Foundations of Garbled Circuits (iacr.org)</a>.</p>


	    <p class="post-info" style="color: #BCBDB6">
			<br>本文标题: <a style="color: #4690cc" href="#">安全多方计算与混淆电路</a>
			<br>本文作者: <a style="color: #4690cc" href="#">云中雨雾</a>
			<br>本文链接: <a style="color: #4690cc" href="#">https://weiviming.github.io/16205685385445.html
				</a>
				<br>本站文章采用 <a style="color: #4690cc" href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="external nofollow">知识共享署名4.0</a> 国际许可协议进行许可<br>除注明转载/出处外，均为本站原创或翻译，转载前请务必署名<br>最后编辑时间: 2021-05-09T21:55:38+08:00
		</p>

                                </div><!-- / .chat-messages -->
                            </div>

                        </div>
                    </div><!-- / .row -->

                </div><!-- / .card -->

            </div><!-- / .chat-wrapper -->
        </div>
        <!-- / Content -->
    </div>
    <!-- Layout content -->

</div>
<!-- / Layout container -->


  </div>

<!-- Layout footer -->
<nav class="layout-footer footer bg-footer-theme border-top">
   <div class="container-fluid d-flex flex-wrap justify-content-between text-center container-p-x pb-3">
       <div class="pt-3">
           <!-- <span class="footer-text font-weight-bolder text-muted">Copyright &copy; 2020 | 粤ICP备18038345号-1</span> -->
           <span class="footer-text font-weight-bolder text-muted">There is always only one truth！</span>
       </div>
       <div>
           
           <a href="index.html" class="footer-link pt-3 ml-4">主页</a>
           
           <a href="archives.html" class="footer-link pt-3 ml-4">分类</a>
           
           <a href="about.html" class="footer-link pt-3 ml-4">关于</a>
           
           <a href="https://gitee.com/hongtu1993/mao-mweb-theme" target="_blank" class="footer-link pt-3 ml-4">Theme</a>
           <a href="#post-header" class="footer-link pt-3 ml-4">Top</a>
       </div>
   </div>
</nav>
<!-- / Layout footer -->

<!-- Overlay -->
<div class="layout-overlay layout-sidenav-toggle"></div>
</div>
<!-- / Layout wrapper -->

<!-- Load polyfills -->
<script src="asset/vendor/js/layout-helpers.js"></script>

<!-- Core scripts -->
<script src="asset/vendor/js/pace.js"></script>
<!--<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>-->

<!-- Core scripts -->
<script src="asset/vendor/libs/popper/popper.js"></script>
<!--<script src="asset/vendor/js/bootstrap.js"></script>-->
<script src="asset/vendor/js/sidenav.js"></script>

<!-- Libs -->
<script src="asset/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>

<!-- Demo -->
<script src="asset/js/demo.js"></script>

<script src="asset/pages_chat.js"></script>

<script type="text/javascript">
  $(function () {

    // todo
    // https://www.cnblogs.com/wicub/p/3449833.html
    // https://www.jb51.net/article/102370.htm
    $("a.sidenav-link").on("click", ev => {

      let url = $(ev.currentTarget).data("url");
      if (url) {
        console.log(url)
        window.location.href = url + "?s=" + $("#sidenav-inner").scrollTop()
      }

    })



    let currentURL = window.location.href.substr(window.location.href.lastIndexOf("/") + 1);
    let $sideNavArray = $('.sidenav-inner > .sidenav-item');
    $sideNavArray.each(sideNavItemIndex => {
      let sideNavItem = $sideNavArray.eq(sideNavItemIndex);

      let sideNavMenu = $(sideNavItem).find(".sidenav-menu");


      let getQueryString = function(name) {
        var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
        var r = window.location.search.substr(1).match(reg);
        if (r != null) {
          return unescape(r[2]);
        }
        return null;
      }

      if (sideNavMenu && sideNavMenu.length > 0) {

        let $sideHrefItemArray = $(sideNavMenu).find("li a")
        $sideHrefItemArray.each(index => {
          let linkString = $($sideHrefItemArray[index]).data('url');
          if (linkString) {
            if (currentURL.startsWith(linkString.toString())) {
              $($sideHrefItemArray[index]).parent().addClass('active');
              $($(sideNavMenu).parent("li")).addClass('open')
              // console.log("offset", $($sideHrefItemArray[index]).offset().top)
              // console.log("offset", $("#sidenav-inner").height())
              setTimeout(() => {
                let sTop = getQueryString("s")
                if (sTop && !isNaN(sTop)) {
                  $("#sidenav-inner").scrollTop(Number(sTop))
                }
              }, 0)
            }
          }

        });
      } else {
        let $sideHrefItemArray = $(sideNavItem).find("a");
        $sideHrefItemArray.each(index => {
          let linkString = $($sideHrefItemArray[index]).data('url');
          if (linkString) {
            if (currentURL.startsWith(linkString.toString())) {
              $($sideHrefItemArray[index]).parent().addClass('active');
              // console.log("offset", $($sideHrefItemArray[index]).offset().top)
              // console.log("offset", $("#sidenav-inner").height())
              setTimeout(() => {
                let sTop = getQueryString("s")
                if (sTop && !isNaN(sTop)) {
                  $("#sidenav-inner").scrollTop(Number(sTop))
                }
              }, 0)


            }
          }
        });
      }
    });
  });
</script>

<script type="text/javascript">
  $(document).ready(function() {
      //为超链接加上target='_blank'属性
    $('a[href^="http"]').each(function() {
      $(this).attr('target', '_blank');
    });
  });
</script>




<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true }, displayAlign : "center", TeX: { equationNumbers: { autoNumber: "all", useLabelIds: true } }, "HTML-CSS": { availableFonts: ["TeX"], showMathMenu: false, linebreaks: { automatic: false }, scale: 100, styles: { ".MathJax_Display": { "text-align": "left", "width" : "auto", "margin": "10px 0px 10px 0px !important", padding: "5px 5px 5px 5px !important" }, ".MathJax": { padding: "2px 2px 2px 2px !important" } } }, SVG: { linebreaks: { automatic: false } } }); </script> 
<!-- <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script> -->

<!-- <script type="text/x-mathjax-config">MathJax.Hub.Config({
jax: ['input/TeX','output/HTML-CSS'], TeX: { equationNumbers: { autoNumber: "AMS" } }});</script> -->


<!-- <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> -->
















</body>

</html>
